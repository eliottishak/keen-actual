<style>
    #cro-pdp-sticky-atc{
        position:fixed;
        bottom:0;
        z-index:9;
        padding: 1em 2.4em;
        width: 100%;
        background-color:#fff;
        box-shadow:0px 0px 10px rgba(0, 0, 0, 0.15);
    }
    #cro-pdp-sticky-atc .sticky-atc{
        background:#23E129;
        width:100%;
        color:#000;
        font-weight:bold;
        font-size:calc(1.6 * 1rem);
        padding:14px;
        border:2px solid #000;
        border-radius:50px;
        box-shadow: 0px 4px 0 #000;
        font-weight: bolder;
    }
    @media(min-width:990px){
        #cro-pdp-sticky-atc{
            display:none;
        }
    }
</style>
<div id="cro-pdp-sticky-atc">
    <button class="sticky-atc">Add to Cart</button>
</div>
<script>
    function hideWhenInView(targetSelector, elementToHideSelector, options = {}) {
        const target = targetSelector;
        const elementToHide = elementToHideSelector;

        if (!target || !elementToHide) return;

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    elementToHide.style.display = "none";     // Hide
                } else {
                    elementToHide.style.display = "";         // Show (revert)
                }
            });
        }, options);

        observer.observe(target);
    }

    document.addEventListener('DOMContentLoaded',function(){
        const sticky_btn = document.querySelector('#cro-pdp-sticky-atc .sticky-atc');
        const form_btn = document.querySelector('product-form .product-form__submit');
        sticky_btn.addEventListener('click',function(){
            form_btn.click();
        });
        hideWhenInView(form_btn,sticky_btn,{});
    })
</script>